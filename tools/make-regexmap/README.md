# make-regexmap.py

VSCode拡張機能 Code Ace Jumper の『文字 → 正規表現のマッピング』設定を [C/Migemo — KaoriYa](https://www.kaoriya.net/software/cmigemo/) を使用して作成する。

## 準備

### cmigemoのインストール

本ツールは、`cmigemo`コマンドとその辞書を使用するため、あらかじめ`cmigemo`をインストールしてください。

macOSの場合、Homebrew経由でインストールできます。

```shell
brew install cmigemo
```

上記によりインストールした場合、`cmigemo`の辞書は以下にインストールされます。

```shell
/opt/homebrew/Cellar/cmigemo/20110227/share/migemo/utf-8/migemo-dict
```

お使いの環境に合せて、[make-regexmap.py]の以下の値を修正してください。

|     | 変数        | 値                                                                     |
| --- | ----------- | ---------------------------------------------------------------------- |
| 1   | MIGEMO_DICT | "/opt/homebrew/Cellar/cmigemo/20110227/share/migemo/utf-8/migemo-dict" |
| 2   | MIGEMO_CMD  | f"cmigemo -q --emacs -d {MIGEMO_DICT}"                                 |

### Pythonのインストール

Python3.14をインストールしてください。(ただし、Python3.14でなくても動くと思います。)

### uvのインストール

プロジェクト管理に[uv](https://docs.astral.sh/uv/getting-started/installation/#standalone-installer)を使用しています。
あらかじめ、`uv`をインストールしてください。

### Pythonパッケージのインストール

```shell
uv sync
```

## 使い方

`uv run make-regexmap.py`の実行により、`a-z`に対応する文字の正規表現が出力される。

大量の文字列が出力するため、以下のようにファイルにリダイレクトしておきましょう。

```shell
uv run make-regexmap.py > sample/regexMap.json
```

### 出力例

```shell
$ uv run make-regexmap.py
{
  "aceJump.finder.charRegexMap": {
    "a": "[ｱ母餅渉閔恤憐遽慌蚫鰒鮑袷淡∃主衽袵歩垤蟻麁凡塔蘭著露表霰非抗諍更革検改現競爭争洗殿鉱豫予粗嵐妖彪禮恠殺絢怪綺彩肖漢過謝謬誤礼操綾飴菴黯罨鱇鮟餡行闇按諳晏鞍暗鶩鬚鰓顎喘発肋豈嫂兄崇騰県購贖网罔咫與
中鼎新邊邉辺恰頭価價値游遊畔畦堋杏梓与衵袙憬坑孔案侮窖強貴讎讐徒仇痣黶欺鮮糾字嘲薊姐姉曙炮焙炙蜚薹膏脂油危鐙虻泡踪痕蹟能跡東預乢蒐聚輯纂遏軋誂羹壓惇集陸敦暑淳篤熱扱温暖遖斡私圧焦汗媼央奧奥桜櫻蜑塰餘普周遍剰
蔗余尼雨甘天凹押樗楝溢艶鰺庵網戯簣鯵味堊渥軛圷憧欠踵幄握芥齷厚漁鯏蜊蕣淺麻浅晢龝煥晰呆朖顯亮旭昜啓鑑晄滉聡洸輝光璋亨陽曠昿諦朗哲顕彬晶賈章商穐晧彰晃昭秋噫欸穢瞹阨埃姶文隘粟曖鮎藹饗靉挨間相哀葭趾晨朝愛蹇跛跫
脚蘆葦芦鐐桎足淦赫燈赧紅旃朱茜藜銅赭曉閼暁垢皸皹證絳灯暴証赤扇呷黝榮碧葵蒼煽仰青穴挙明惡開婀浴厭充遇娃當吾飽或合上在逢当有悪褪倦宛安該襾阿韲痾嗚荒遭編亞會併擧彼和哇飫揚唖椏敢あａ藍金＠∧論＆∩\u0026∠銀会∀空域↑
⇒→↓⇔←⌒後Ц亜米¨´｀＾’≒～АаアΑαÅa]",
    "b": "[鰡鯔堀本凡盆煩梵骨凹歿釦鈕沒渤没穆睦濮樸目攵攴朴木僕墨卜牧星蟒蒡茆鵬网儚冐牟瑁榜旁胞鉾肪卯鋩眸黽謗蠎抱旄袤懋髦氓虻罔貌甍乏惘妨帽昴忙剖冒忘茅膀妄厖尨膨貿防紡茫滂望亡傍某謀坊菩募墓暈拇惚彫保掘呆暮褒
簿姥戊模謨牡干乾慕誉母姆ぼ汨幎覓冖羃巾冪紅韈鼈瞥蔑塀汳瓣辨湎辧宀辯采抃卞遍辮眄冕勉娩弁邊邉辺可べ船房笛鞭渊斑縁淵渕樗椈太袋深蓋盖葢豚節勿佛物震勃蚋風鰤馼蚊聞文振葡奉廡毋吹打伏撲嘸侮蕪武悔不無拭葺歩蒲錻分誣憮
撃部舞撫ぶ米謐人匹浸額鐚跛！広開繆別謬緡梹泯岷罎旻紊檳頻壜愍瓶鬢閔憫敏貧便百闢帛辟白杪憑猫″緲票鋲屏眇渺平錨苗秒描廟病微琵麋濔瀰引美備寐日尾贔糜枇毘眉弾糒媚比嵋弭火未縻靡び早速林針尿腹拂散払祓原鷭蠻鑁悗幡旛旙
塙挽判棒絆版輓蕃板播礬阪坂磐番盤晩萬蛮万箱蠅芒挟伴枹鉢蜂桴撥働畠畑屎糞端花鼻離話V魅秤許魃罸拔筏閥橋箸走柱寞貘藐獏暴漠瀑麥縛博駁莫驀爆憊杯楳狽唄賣苺霾吠培煤黴貝焙賠買売陪倍梅媒跋伐末幕曝抜罰這葉晴刃塲馳歯貼馬
婆張刄庭羽芭場化罵ばｂ“仏□■底下⊥×｜－∥＼∵麦ボバ［］｝｛ブБビベΒбβb]",
...略...
    }
}
```
